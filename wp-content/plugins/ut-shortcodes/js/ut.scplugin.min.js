
(function(b){b(document).ready(function(){function d(){return"-"+Math.random().toString(36).substr(2,9)}b(".ut-video").fitVids();function c(j,m,l,o){if(!j){return}var k=utShortcode.ajaxurl,i=b('<div id="ut-video'+m+'"></div>'),n=l.find(".ut-video-caption-text");b.ajax({type:"POST",url:k,data:{action:"ut_get_video_player",video:j},success:function(p){i.html(p).fitVids();l.html(i.append(n));return false},complete:function(){if(o&&typeof(o)==="function"){o()}}})}function h(i,k,l){if(!i){return}var j=utShortcode.ajaxurl;b.ajax({type:"POST",url:j,data:{action:"ut_get_video_player",video:i},success:function(m){b("#ut-video-testimonial"+k).hide().html(m).fitVids().show("fast");return false},complete:function(){if(l&&typeof(l)==="function"){l()}}})}function f(i,j){if(!i){return}var k=d(),l='<div id="ut-video-testimonial'+k+'"></div>';j.prettyPhoto({custom_markup:l,allow_resize:true,social_tools:"",changepicturecallback:function(){h(i,k,function(){})}})}b(document).on("click",".ut-load-video",function(k){var j=b(this).data("video"),m=d(),l=b(this).parent(".ut-video-caption"),i=l.next(".ut-video-loading");i.fadeIn();c(j,m,l,function(){i.fadeOut()});k.preventDefault()});b(".ut-load-vtestimonial").each(function(){var i=b(this).find("div").html();f(i,b(this))});b(".ut-skill-active").each(function(j,k){var k=b(k),l=k.data("width");if(k.visible(true)&&!k.hasClass("ut-already-visible")){k.stop(true,true).animate({width:l+"%"},1000);k.addClass("ut-already-visible")}});b(".ut-counter").each(function(k,l){var j=b(l).data("counter");if(b(l).visible(true)&&!b(l).hasClass("ut-already-counted")){setTimeout(function(){b(l).addClass("ut-already-counted");b(l).find(".ut-count").countTo({from:0,to:j,speed:2000,refreshInterval:100})},1000)}});var g=b(window),e=b(".ut-animate-image, .ut-counter, .ut-skill-active");b(".ut-animate-element").appear(function(){var i=b(this).data("effect");b(this).delay(200).queue(function(){b(this).removeClass("ut-animate-element").addClass(i)})});b(".ut-animate-image").each(function(j,m){if(b(m).visible(true)){var m=b(m),l=m.data("effecttype");if(l==="image"){var k=m.data("effect");if(m.visible(true)){m.addClass(k)}else{m.removeClass(k+" ut-already-visible")}}}});g.scroll(function(i){e.each(function(k,n){var n=b(n),m=n.data("effecttype");if(m==="image"){var l=n.data("effect");if(n.visible(true)&&!n.hasClass(l)){n.addClass(l)}else{if(!n.visible(true)){n.removeClass(l)}}}if(m==="skillbar"){var o=n.data("width");if(n.visible(true)&&!n.hasClass("ut-already-visible")){n.addClass("ut-already-visible");n.stop(true,true).animate({width:o+"%"},1000)}else{if(!n.visible(true)){n.removeClass("ut-already-visible");n.css("width",0)}}}if(m==="counter"){var j=n.data("counter");if(n.visible(true)&&!b(n).hasClass("ut-already-counted")){n.addClass("ut-already-counted");n.find(".ut-count").countTo({from:0,to:j,speed:2000,refreshInterval:100})}}})})});b.fn.countTo=function(c){c=c||{};return b(this).each(function(){var e=b.extend({},b.fn.countTo.defaults,{from:b(this).data("from"),to:b(this).data("to"),speed:b(this).data("speed"),refreshInterval:b(this).data("refresh-interval"),decimals:b(this).data("decimals")},c);var j=Math.ceil(e.speed/e.refreshInterval),k=(e.to-e.from)/j;var l=this,h=b(this),g=0,i=e.from,f=h.data("countTo")||{};h.data("countTo",f);if(f.interval){clearInterval(f.interval)}f.interval=setInterval(m,e.refreshInterval);d(i);function m(){i+=k;g++;d(i);if(typeof(e.onUpdate)=="function"){e.onUpdate.call(l,i)}if(g>=j){h.removeData("countTo");clearInterval(f.interval);i=e.to;if(typeof(e.onComplete)=="function"){e.onComplete.call(l,i)}}}function d(o){var n=e.formatter.call(l,o,e);h.html(n)}})};b.fn.countTo.defaults={from:0,to:0,speed:1000,refreshInterval:100,decimals:0,formatter:a,onUpdate:null,onComplete:null};function a(d,c){return d.toFixed(c.decimals)}})(jQuery);